/*
 * 안녕하세요 코드팩토리입니다. http://codefactory.kr, [프로그램 개발문의] master@codefactory.kr
 * 이 프로그램은 아무런 제약없이 복사/수정/재배포 하셔도 되며 주석을 지우셔도 됩니다.
 * 감사합니다.
 */
(function(a,b,c,d){function l(b,c){this.element=b;this.options=a.extend({},f,c);this._defaults=f;this._name=e;this.init()}function m(b,c,e){b.data("plugin_cfSlider","");b.cfSlider({speed:c.speed,container:".cf-slide-panel-ul",item:".cf-slide-panel-item",prevEventType:"cf-slide-panel-prev",nextEventType:"cf-slide-panel-next",prevBtn:c.prevBtn,nextBtn:c.nextBtn,callback:function(d){sessionStorage["cfSlidePanel"+b.attr("id")+"CurrentIndex"]=a(d).data("index");if(typeof c.getIndex==="function"){c.getIndex(a(d).data("index"))}}}).each(function(){if(sessionStorage["cfSlidePanel"+b.attr("id")+"CurrentIndex"]!=d){b.find(".cf-slide-panel-ul").css({marginLeft:-(e*(parseInt(sessionStorage["cfSlidePanel"+b.attr("id")+"CurrentIndex"])+1))+"px"})}var a=b.data("plugin_cfSlider");b.unbind(".cfSlidePanel");b.bind("mousedown.cfSlidePanel touchstart.cfSlidePanel",function(d){if(g){return}if(a.container.is(":animated")){return}g=true;h=parseInt(a.container.css("marginLeft"));i=j=d.originalEvent&&d.originalEvent.touches?d.originalEvent.touches[0].pageX:d.pageX;b.bind("mousemove.cfSlidePanel touchmove.cfSlidePanel",{options:c},n);b.bind("mouseup.cfSlidePanel touchend.cfSlidePanel",{cfSlider:a,options:c,elem:b},o)})})}function n(b){if(!g){return}k=j;j=b.originalEvent&&b.originalEvent.touches?b.originalEvent.touches[0].pageX:b.pageX;if(Math.abs(j-i)>10){b.preventDefault();if(a(this).find("ul.cf-slide-panel-ul").is(":animated")){return}var c=a(this).find("ul.cf-slide-panel-ul"),d=parseInt(c.css("marginLeft"));c.css("marginLeft",d-(k-(j?j:b.pageX)))}else{return}}function o(a){var b=a.data.cfSlider,c=a.data.options,d=a.data.elem;if(b.container.is(":animated")){return}if(Math.abs(j-i)<c.touchMoveLength){b.container.animate({marginLeft:h},"fast")}else if(j>i){b.go("prev",b.container,b.marginType,b.itemSize,b.itemLength,b.options,h)}else{b.go("next",b.container,b.marginType,b.itemSize,b.itemLength,b.options,h)}d.unbind("mousemove.cfSlidePanel touchmove.cfSlidePanel mouseup.cfSlidePanel touchend.cfSlidePanel");g=false}var e="cfSlidePanel",f={speed:400,touchMoveLength:100,getIndex:null,prevBtn:".prev",nextBtn:".next"};var g=false,h=0,i=0,j=0,k=0;l.prototype.init=function(){var c=a(this.element),e=this.options,f=c.find(".panel"),g=f.length,h=c.width();f.hide();var i=a("<ul />",{"class":"cf-slide-panel-ul"}).css({listStyle:"none",margin:0,padding:0,width:h*g}).appendTo(this.element);f.each(function(b){a("<li />",{"class":"cf-slide-panel-item",html:this,"data-index":b}).css({"float":"left",width:h}).appendTo(i)});f.show();sessionStorage["cfSlidePanel"+c.attr("id")+"CurrentIndex"]=d;m(c,e,h);a(b).bind("resize",function(){setTimeout(function(){var a=c.width();c.find("div.cf-slide-panel-container").css({width:a});c.find("li.cf-slide-panel-item").css({width:a});m(c,e,a)},100)})};a.fn[e]=function(b){return this.each(function(){if(!a.data(this,"plugin_"+e)){a.data(this,"plugin_"+e,new l(this,b))}})}})(jQuery,window,document)