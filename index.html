<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>cf slide panel</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
	<style>
		html, body {
			margin: 0;
			padding: 0;
		}
		
		#container {
			width: 100%;
		}
		
		div.panel {
			padding: 30px 0;
			background: #efefef;
		}
		
		#navigator {
			font-weight: bold;
			text-align: center;
		}
	</style>
</head>
<body>
	
	<div>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
	</div>
	
	<!-- cfSlidePanel 영역 시작 -->
	<div id="container">
		
		<div class="panel">
			<h1>패널 1</h1>
			<p>안녕하세요 첫 번째 패널입니다.</p>
			<p>안녕하세요 첫 번째 패널입니다.</p>
			<p>안녕하세요 첫 번째 패널입니다.</p>
		</div>
		
		<div class="panel">
			<h1>패널 2</h1>
			<p>안녕하세요 두 번째 패널입니다.</p>
			<p>안녕하세요 두 번째 패널입니다.</p>
			<p>안녕하세요 두 번째 패널입니다.</p>
		</div>
		
		<div class="panel">
			<h1>패널 3</h1>
			<p>안녕하세요 세 번째 패널입니다.</p>
			<p>안녕하세요 세 번째 패널입니다.</p>
			<p>안녕하세요 세 번째 패널입니다.</p>
		</div>
		
		<div class="panel">
			<h1>패널 4</h1>
			<p>안녕하세요 네 번째 패널입니다.</p>
			<p>안녕하세요 네 번째 패널입니다.</p>
			<p>안녕하세요 네 번째 패널입니다.</p>
		</div>
		
		<div class="panel">
			<h1>패널 5</h1>
			<p>안녕하세요 다섯 번째 패널입니다.</p>
			<p>안녕하세요 다섯 번째 패널입니다.</p>
			<p>안녕하세요 다섯 번째 패널입니다.</p>
		</div>
		
	</div>
	<!-- cfSlidePanel 영역 끝 -->
	
	<div id="navigator">
		<p><span class="index">1</span> / 5</p>
	</div>
	
	<div>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
		<p>안녕하세요</p>
	</div>
	
	<script src="jquery-1.6.4.min.js"></script>
	<script src="jquery.cfSlider.min.js"></script>		<!-- https://github.com/codefactory/cfSlider -->
	<script src="jquery.cfSlidePanel.js"></script>
	<script>
		// 모바일 브라우저 주소창 안보이게 하기
		(function() {
			function hideAddressBar() {
			
				if (document.height <= window.outerHeight) return;		// 웹페이지의 높이가 화면높이보다 작을 때는 실행할 필요가 없으므로 종료
				
				var scrollTimer = setInterval(function() {
					if ( ! pageYOffset) {	// 모바일 브라우저에서 주소창이 보이고 있을 때는 pageYOffset = 0 이므로 이때만 실행
						scrollTo(0, 1);		// 웹페이지를 x축 0, y축 1의 위치로 끌어올림
					} else {
						clearInterval(scrollTimer);		// pageYOffset !=0 인 경우 반복 종료 - scrollTo(0, 1) 이 실행되었거나 사용자가 스크롤을 움직인 경우
					}
				}, 100);	// 100 밀리세컨드마다 반복 실행
				
			};
			
			window.addEventListener('load', hideAddressBar, false);		// 페이지 로드 되었을 때 실행
			window.addEventListener('orientationchange', hideAddressBar, false);	// 화면이 가로/세로 전환되었을 때 실행
		})();	// 페이지 내 다른 자바스크립트 코드에 영향을 주거나 받지 않도록 self executed anonymous function 형태로 만듬
		
		
		// 좌우 화살표키로 슬라이드
		$(document).keydown(function(e) {
			if (e.keyCode === 37) {
				$('#container').trigger('cf-slide-panel-next');
			} else if (e.keyCode === 39) {
				$('#container').trigger('cf-slide-panel-prev');
			}
		});
		
		
		// cfSlidePanel
		$('#container').cfSlidePanel({
			getIndex: function(index) {
				$('#navigator .index').text(index + 1);		// index가 zero-base(0부터 시작)로 오기 때문에 1을 더해줌
			}
		});
		
		
		// 옵션 설명
		// $('#container').cfSlidePanel({
			// speed: 400,				// 슬라이딩 속도, 밀리세컨드 단위의 숫자 또는 jQuery.animate()에 사용가능한 'slow', 'fast' 등 문자열
			// touchMoveLength: 100,	// px단위, 최소 얼마만큼 touchmove를 해야 패널을 움직일지 기준이 되는 길이
			// getIndex: function(index) {	// default값은 null입니다. 여기에 함수를 등록하면 index를 인자로 받아서 사용하실 수 있습니다. 슬라이드 애니메이션이 끝나고 현재 화면에 보이는 패널의 index를 받을 수 있으며 navigator 컨트롤을 만들 때 사용하시면 됩니다.
				// alert(index);
			// },
			// prevBtn: null,	// default값은 '.prev' 입니다. slide panel은 터치 swipe 말고 버튼 클릭방식으로도 슬라이드를 하실 수 있습니다. 이때 이전 패널 보기 버튼의 jQuery 셀렉터를 등록하시면 됩니다.
			// nextBtn: null	// default값은 '.next' 입니다. slide panel은 터치 swipe 말고 버튼 클릭방식으로도 슬라이드를 하실 수 있습니다. 이때 다음 패널 보기 버튼의 jQuery 셀렉터를 등록하시면 됩니다.
		// });
	</script>
	
</body>
</html>